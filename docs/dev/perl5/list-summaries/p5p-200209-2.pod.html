<HTML>
<HEAD>
<TITLE>This Week on perl5-porters</TITLE>
<LINK REV="made" HREF="mailto:bhcompile@daffy.perf.redhat.com">
</HEAD>

<BODY>

<A NAME="__index__"></A>
<!-- INDEX BEGIN -->

<UL>

	<LI><A HREF="#this week on perl5porters (915 september 2002)">This Week on perl5-porters (9-15 September 2002)</A></LI>
	<UL>

		<LI><A HREF="#printf format documentation">printf format documentation</A></LI>
		<LI><A HREF="#data::dumper and tied objects">Data::Dumper and tied objects</A></LI>
		<LI><A HREF="#dleaktest doesn't work"><CODE>-DLEAKTEST</CODE> doesn't work</A></LI>
		<LI><A HREF="#testing for magic">Testing for magic</A></LI>
		<LI><A HREF="#syntax incompatibility with the // operator">Syntax incompatibility with the <CODE>//</CODE> operator</A></LI>
		<LI><A HREF="#in brief">In brief</A></LI>
		<LI><A HREF="#about this summary">About this summary</A></LI>
	</UL>

</UL>
<!-- INDEX END -->

<HR>
<P>
<H1><A NAME="this week on perl5porters (915 september 2002)">This Week on perl5-porters (9-15 September 2002)</A></H1>
<P>This was not a very busy week, with people packing for YAPC::Europe, and
all that... Nevertheless, the smoke tests were running, the bug reports
were flying, and an appropriate amount of patches were sent. Read about
printf formats, serialized tied thingies, built-in leak testing, syntax
oddities, et alii.</P>
<P>
<H2><A NAME="printf format documentation">printf format documentation</A></H2>
<P>Allen Smith pointed out (in bug report #17075) that the documentation
for printf in perlfunc is innaccurate regarding the <CODE>%g</CODE> and <CODE>%G</CODE> format
specifiers. In fact, the thread goes through commentary of the C standard,
and its implementation (or should I say interpretation) on various
platforms (e.g. the availability of the <CODE>long long</CODE> type).</P>
<PRE>
    <A HREF="http://groups.google.com/groups?threadm=rt-17075-36916.14.3025032754936%40bugs6.perl.org">http://groups.google.com/groups?threadm=rt-17075-36916.14.3025032754936%40bugs6.perl.org</A></PRE>
<P>
<H2><A NAME="data::dumper and tied objects">Data::Dumper and tied objects</A></H2>
<P>Slaven Rezic asked whether Data::Dumper should support tied objects. Brian
Ingerson answered that no, his opinion is that the tiedness should lay
outside of serialization.</P>
<P>Slaven also provided a new test file for Data::Dumper, containing some
TODO tests for a bug he just found. Apparently this is a rather obscure
bug, which <EM>seems only be triggered if Freeze/Thaw is used in the pure
perl version of Dump (Dumpxs works fine) and the object type changes.</EM></P>
<PRE>
    <A HREF="http://groups.google.com/groups?threadm=200209091755.g89HthuZ019314%40vran.herceg.de">http://groups.google.com/groups?threadm=200209091755.g89HthuZ019314%40vran.herceg.de</A>
    <A HREF="http://groups.google.com/groups?threadm=200209091933.g89JX8vS022479%40vran.herceg.de">http://groups.google.com/groups?threadm=200209091933.g89JX8vS022479%40vran.herceg.de</A></PRE>
<P>
<H2><A NAME="dleaktest doesn't work"><CODE>-DLEAKTEST</CODE> doesn't work</A></H2>
<P>It has been reported (bug #17197) that perl 5.8.0 cannot be built with
threads and with the CPP symbol <CODE>LEAKTEST</CODE> (once referred to in perlrun.)
Andy Dougherty mentioned that <EM>LEAKTEST didn't really work in any case,
and has not really been supported since before version 5.000.</EM>
Nick Ing-Simmons and H.Merijn Brand voted for its removal.</P>
<PRE>
    <A HREF="http://groups.google.com/groups?threadm=rt-17197-37307.7.03322615920982%40bugs6.perl.org">http://groups.google.com/groups?threadm=rt-17197-37307.7.03322615920982%40bugs6.perl.org</A></PRE>
<P>
<H2><A NAME="testing for magic">Testing for magic</A></H2>
<P>The discussion on v-strings from the previous week continued. The new
v-strings, if you don't remember, are scalars with 'V'-magic attached to
them. So, to test whether a given scalar is a v-string, we should test
whether it has 'V' magic. It's possible with XS or by using the B module,
but that's not actually very straightforward, so John Peacock proposed a
patch to add a function <CODE>isvstring()</CODE> to Scalar::Util.</P>
<PRE>
    <A HREF="http://groups.google.com/groups?threadm=20020911123320.J2793%40dansat.data-plan.com">http://groups.google.com/groups?threadm=20020911123320.J2793%40dansat.data-plan.com</A></PRE>
<P>
<H2><A NAME="syntax incompatibility with the // operator">Syntax incompatibility with the <CODE>//</CODE> operator</A></H2>
<P>Rafael Garcia-Suarez found that</P>
<PRE>
    sub f ($) { } f $x / 2;</PRE>
<P>wasn't anymore accepted by bleadperl. This was due to a parsing
incompatibility introduced by the new <CODE>//</CODE> operator. This was
corrected, but the following construct is still a syntax error with
bleadperl :</P>
<PRE>
    print $fh //;</PRE>
<PRE>
    <A HREF="http://groups.google.com/groups?threadm=20020912151731.1076c91b.rgarcia%40hexaflux.com">http://groups.google.com/groups?threadm=20020912151731.1076c91b.rgarcia%40hexaflux.com</A></PRE>
<P>
<H2><A NAME="in brief">In brief</A></H2>
<P>After some gcc-ism being tracked down, ANSI C compilers are now able to
compile Nicholas Clark's copy-on-write code.</P>
<P>H.Merijn Brand has now write access to the Perforce repository where the
source for bleadperl is kept.</P>
<P>Josh b Jore noticed (bug #17088) that once a scalar variable is
local()ised, its <CODE>pos()</CODE> is lost.</P>
<P>Perl 5.8.0 can't be built on NetBSD/alpha with an older gcc, due to a bug
in gcc's optimizer. The fix is to pick up a newest compiler, or to compile
without optimization. Jarkko Hietaniemi provided a patch to the hintsfile
for NetBSD to check this. (Bug #17174.)</P>
<P>chromatic proposed a patch that reimplements AutoLoader::import() to avoid
a dependency on the Exporter module. Not applied, it was flawed. So he
proposed a second (better) patch, that waits for its turn in the queue.</P>
<P>Alain Barbet provided a impressive stack of smoke tests (various
combinations of Cygwin, Solaris, Linux, *BSD, on Sparc, PPC and x86!)</P>
<P>Following a bug report (#17208) by Vincent Lefevre to fix small typos in
the perlmodlib man page, I found that it included an incomplete list of
modules. Fixed.</P>
<P><CODE>Cwd::chdir('.')</CODE> apparently hangs on Solaris. Bug #17227, reported by
Akim Demaille, and on which nobody commented.</P>
<P>Brian Korver reported that the <CODE>alarm()</CODE> system call is broken with perl
5.8.0, at least on FreeBSD, when mixed with the <CODE>gethostbyname()</CODE> system
call. See bug #17341. This is probably caused by the new safe signals
in perl 5.8.0 (see the corresponding entry in perldelta).</P>
<P>
<H2><A NAME="about this summary">About this summary</A></H2>
<P>This summary brought to you by Rafael Garcia-Suarez. It's also available
via a mailing list, which subscription address is
<EM><A HREF="mailto:perl5-summary-subscribe@perl.org">perl5-summary-subscribe@perl.org</A></EM>. Comments, additions and
low-temperature flames welcome.</P>

</BODY>

</HTML>
