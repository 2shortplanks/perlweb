<HTML>
<HEAD>
<TITLE>This week on perl5-porters</TITLE>
<LINK REV="made" HREF="mailto:bhcompile@daffy.perf.redhat.com">
</HEAD>

<BODY>

<A NAME="__index__"></A>
<!-- INDEX BEGIN -->

<UL>

	<LI><A HREF="#this week on perl5porters (2228 july 2002)">This week on perl5-porters (22-28 July 2002)</A></LI>
	<UL>

		<LI><A HREF="#new regexp metacharacters">New regexp metacharacters</A></LI>
		<LI><A HREF="#a perlio / binmode() bug">A PerlIO / <CODE>binmode()</CODE> bug</A></LI>
		<LI><A HREF="#trailing slash problem">Trailing slash problem</A></LI>
		<LI><A HREF="#crypt::ssleay build problems">Crypt::SSLeay build problems</A></LI>
		<LI><A HREF="#no nonperlio smoke tests anymore">No non-perlio smoke tests anymore</A></LI>
		<LI><A HREF="#memory benchmarks on threads">Memory benchmarks on threads</A></LI>
		<LI><A HREF="#qq(\q\e)"><CODE>qq(\Q\E)</CODE></A></LI>
		<LI><A HREF="#finally">Finally</A></LI>
	</UL>

</UL>
<!-- INDEX END -->

<HR>
<P>
<H1><A NAME="this week on perl5porters (2228 july 2002)">This week on perl5-porters (22-28 July 2002)</A></H1>
<P>Unsurprisingly, this was one of the quietest weeks since I subscribed to
P5P. Perl 5.8.0 has just been released, and the Perl 5.9 development track
has yet to begin. So the bulk of the discussion was about small bugs and
adjustments. Here's my subjective and arbitrary selection.</P>
<P>
<H2><A NAME="new regexp metacharacters">New regexp metacharacters</A></H2>
<P>Jeff ``japhy'' Pinyan proposed a new regex pseudo-anchor, <CODE>\K</CODE> (which
stands for <EM>Keep</EM>) that <EM>basically fools the engine into thinking it
just started matching.</EM> In other words, <CODE>/pat1\Kpat2/</CODE> acts as a kind of
look-behind assertion <CODE>/(?&lt;=pat1)pat2/</CODE> (the only difference being when a
<CODE>/g</CODE> modifier is used. Check the actual thread for the details.) Also,
the pattern that precedes <CODE>\K</CODE> doesn't need to be constant-width, unlike
what is currently required for look-behind assertions.</P>
<P>The way this pseudo-anchor is implemented makes it quite efficient.
Japhy gives another example of its usefulness :</P>
<PRE>
    $str =~ s/(.*)\..*/$1/;</PRE>
<P>can be written, using <CODE>\K</CODE>, as :</P>
<PRE>
    $str =~ s/.*\K\..*//;</PRE>
<P>Brent Dax (who submitted last week a patch to, hm, forward-port a Perl 6
construct in Perl 5) remarked that Japhy should mention this idea to
Larry. Obviously we don't want Perl 5 and Perl 6 to diverge.</P>
<P>Japhy also provided the corresponding <CODE>\F</CODE> pseudo-anchor that tells the
regex engine it has stopped matching -- this one being equivalent to a
look-ahead assertion. About this one, he says <EM>I'm not 100% sure we need
\F</EM>, and also <EM>I'm sure there's a need for \F, but I haven't quite
figured it out yet.</EM></P>
<P>The idea :
<A HREF="http://www.xray.mpe.mpg.de/mailing-lists/perl5-porters/2002-07/msg01324.html">http://www.xray.mpe.mpg.de/mailing-lists/perl5-porters/2002-07/msg01324.html</A></P>
<P>The patch :
<A HREF="http://www.xray.mpe.mpg.de/mailing-lists/perl5-porters/2002-07/msg01380.html">http://www.xray.mpe.mpg.de/mailing-lists/perl5-porters/2002-07/msg01380.html</A></P>
<P>
<H2><A NAME="a perlio / binmode() bug">A PerlIO / <CODE>binmode()</CODE> bug</A></H2>
<P>Elizabeth Mattijsen, who continues to experiment with <CODE>PerlIO::via</CODE>,
found that <CODE>binmode()</CODE> passes incorrect mode and handle parameters to
<CODE>PerlIO::via::PUSHED()</CODE> when it's used to push a new PerlIO layer on an
existing filehandle. Nick Ing-Simmons corrected this bug.</P>
<P>Bug #15283 :
<A HREF="http://www.xray.mpe.mpg.de/mailing-lists/perl5-porters/2002-07/msg01294.html">http://www.xray.mpe.mpg.de/mailing-lists/perl5-porters/2002-07/msg01294.html</A></P>
<P>
<H2><A NAME="trailing slash problem">Trailing slash problem</A></H2>
<P>Abigail reported that some tests fail during perl's build when a Configure
option of <CODE>-Dprefix=/some/dir/</CODE> (with a trailing slash) was used. This is
a known problem, but those who haven't dug through the INSTALL instructions
may loose some time to find out the cause. H. Merijn Brand provided a
patch to correct the problem.</P>
<P>Bug #15326 :
<A HREF="http://www.xray.mpe.mpg.de/mailing-lists/perl5-porters/2002-07/msg01311.html">http://www.xray.mpe.mpg.de/mailing-lists/perl5-porters/2002-07/msg01311.html</A></P>
<P>
<H2><A NAME="crypt::ssleay build problems">Crypt::SSLeay build problems</A></H2>
<P>Randy J. Ray reported that he couldn't build the <CODE>Crypt::SSLeay</CODE> module with
perl 5.8.0. This problem does not appear with recent openssl libraries ;
it can also be solved by forcing the C preprocessor symbol <CODE>PERL5</CODE> to be
defined in <CODE>Crypt::SSLeay</CODE>'s Makefile.PL. However the precise cause of this
problem is still not known.</P>
<P>Randy also reported a problem on building Gtk-Perl, but nobody replied.</P>
<P><A HREF="http://www.xray.mpe.mpg.de/mailing-lists/perl5-porters/2002-07/msg01346.html">http://www.xray.mpe.mpg.de/mailing-lists/perl5-porters/2002-07/msg01346.html</A></P>
<P>
<H2><A NAME="no nonperlio smoke tests anymore">No non-perlio smoke tests anymore</A></H2>
<P>H. Merijn Brand, eminent smoke tester (on AIX, HP-UX and Cygwin
platforms), decided to remove the non-perlio configurations from his
tests.</P>
<P>
<H2><A NAME="memory benchmarks on threads">Memory benchmarks on threads</A></H2>
<P>Elizabeth Mattijsen decided to run some benchmarks on memory usage of
threaded programs; in particular, the memory usage of <CODE>our</CODE>, <CODE>my</CODE> and
global variables, without attributes or with <CODE>:unique</CODE> or <CODE>:shared</CODE>. I
won't summarize her results here, please refer to the relevant threads for
the details.</P>
<P>Some threaded memory benchmarks :
<A HREF="http://www.xray.mpe.mpg.de/mailing-lists/perl5-porters/2002-07/msg01422.html">http://www.xray.mpe.mpg.de/mailing-lists/perl5-porters/2002-07/msg01422.html</A></P>
<P>More memory benchmarks
<A HREF="http://www.xray.mpe.mpg.de/mailing-lists/perl5-porters/2002-07/msg01438.html">http://www.xray.mpe.mpg.de/mailing-lists/perl5-porters/2002-07/msg01438.html</A></P>
<P>More memory/processing benchmarks
<A HREF="http://www.xray.mpe.mpg.de/mailing-lists/perl5-porters/2002-07/msg01467.html">http://www.xray.mpe.mpg.de/mailing-lists/perl5-porters/2002-07/msg01467.html</A></P>
<P>
<H2><A NAME="qq(\q\e)"><CODE>qq(\Q\E)</CODE></A></H2>
<P>Philip Hazel noticed that perl refuses to parse empty escape sequences in
double-quoted strings, such as <CODE>&quot;\Q\E&quot;</CODE>, <CODE>&quot;\u\E&quot;</CODE>, <CODE>&quot;\L\E&quot;</CODE>, etc.
Fixing this bug involves playing with some of the darkest magic you can
find in the tokenizer. Nicholas Clark commented : <EM>it's far too scary to
work out what to do right now.</EM></P>
<P>Bug #15549 :
<A HREF="http://www.xray.mpe.mpg.de/mailing-lists/perl5-porters/2002-07/msg01502.html">http://www.xray.mpe.mpg.de/mailing-lists/perl5-porters/2002-07/msg01502.html</A></P>
<P>
<H2><A NAME="finally">Finally</A></H2>
<P>This summary brought to you by Rafael Garcia-Suarez, enduring high summer
temperatures. This report is also available via a mailing list, which
subscription address is <EM><A HREF="mailto:perl5-summary-subscribe@perl.org">perl5-summary-subscribe@perl.org</A></EM>.</P>

</BODY>

</HTML>
