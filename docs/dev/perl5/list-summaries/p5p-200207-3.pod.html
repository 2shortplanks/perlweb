<HTML>
<HEAD>
<TITLE>This week on perl5-porters</TITLE>
<LINK REV="made" HREF="mailto:bhcompile@daffy.perf.redhat.com">
</HEAD>

<BODY>

<A NAME="__index__"></A>
<!-- INDEX BEGIN -->

<UL>

	<LI><A HREF="#this week on perl5porters (1521 july 2002)">This week on perl5-porters (15-21 July 2002)</A></LI>
	<UL>

		<LI><A HREF="#module upgrades">Module upgrades</A></LI>
		<LI><A HREF="#.pmc files">.pmc files</A></LI>
		<LI><A HREF="#working on the bug database">Working on the bug database</A></LI>
		<LI><A HREF="#insure">Insure</A></LI>
		<LI><A HREF="#a perlio bug">A PerlIO bug</A></LI>
		<LI><A HREF="#perlio and macperl line endings">PerlIO and MacPerl line endings</A></LI>
		<LI><A HREF="#about the maintenance releases">About the maintenance releases</A></LI>
		<LI><A HREF="#the pumpking is dead, long live the pumpking !">The pumpking is dead, long live the pumpking !</A></LI>
		<LI><A HREF="#do hashes waste memory ">Do hashes waste memory ?</A></LI>
		<LI><A HREF="#about the sort pragma">About the <CODE>sort</CODE> pragma</A></LI>
		<LI><A HREF="#defined or">defined or</A></LI>
		<LI><A HREF="#about this report">About this report</A></LI>
	</UL>

</UL>
<!-- INDEX END -->

<HR>
<P>
<H1><A NAME="this week on perl5porters (1521 july 2002)">This week on perl5-porters (15-21 July 2002)</A></H1>
<P>OK, you know already <EM>the</EM> big news of the week, don't you ?
This report will tell you what happened behind the scenes of the 5.8.0
final releasing.</P>
<P>
<H2><A NAME="module upgrades">Module upgrades</A></H2>
<P>Russ Allbery released new versions of <CODE>Term::ANSIColor</CODE> (1.05) and of
<CODE>podlators</CODE> (1.23), with documentation changes only, which were promptly
assimilated.</P>
<P>
<H2><A NAME=".pmc files">.pmc files</A></H2>
<P>Nick Ing-Simmons found an old, unused feature that was deeply burried into
the perl code : when loading a module via <CODE>use</CODE> or <CODE>require</CODE>, perl
checks whether there's a <CODE>.pmc</CODE> file along the <CODE>.pm</CODE> file, and newer; if
it finds it, it gets loaded in place of the <CODE>.pm</CODE>. This was intended to
be used by the byteloader, but apparently isn't used at all (unless
something was missed.) Anyway it was too late to remove it.</P>
<P><A HREF="http://www.xray.mpe.mpg.de/mailing-lists/perl5-porters/2002-07/msg00555.html">http://www.xray.mpe.mpg.de/mailing-lists/perl5-porters/2002-07/msg00555.html</A></P>
<P>
<H2><A NAME="working on the bug database">Working on the bug database</A></H2>
<P>The perlbug database has switched from the old perlbug system to a new
system running Request Tracker (at <EM><A HREF="http://rt.perl.org/perlbug/">http://rt.perl.org/perlbug/</A></EM>). The new
system will probably need a few weeks of tuning before it finds a stable
state. It's worth nothing that bug ids (now known as ticket numbers) have
changed -- the new system converting them internally.</P>
<P>Many thanks to Robert Spier, Jesse Vincent, Robert Foley, and to everyone
that works (and has worked) on implementing and improving the bug report
system ! Quoting Jarkko, <EM>it's a very thankless task</EM>, and it's one of
the key elements in successful software projects.</P>
<P>Robert Spier and Ask Bjoern Hansen also built
<EM><A HREF="http://dev.perl.org/perl5/">http://dev.perl.org/perl5/</A></EM> that now centralizes the Perl 5 development
resources.</P>
<P><A HREF="http://www.xray.mpe.mpg.de/mailing-lists/perl5-porters/2002-07/msg01019.html">http://www.xray.mpe.mpg.de/mailing-lists/perl5-porters/2002-07/msg01019.html</A></P>
<P>
<H2><A NAME="insure">Insure</A></H2>
<P>Aaron J Mackey built perl RC 3 with Insure (a tool to check memory access
and leaks). As he summarized the results : <EM>in short: not too bad</EM>.
Nevertheless, some of the points he uncovered will need some checking in
the future.</P>
<P><A HREF="http://www.xray.mpe.mpg.de/mailing-lists/perl5-porters/2002-07/msg00840.html">http://www.xray.mpe.mpg.de/mailing-lists/perl5-porters/2002-07/msg00840.html</A>
<A HREF="http://www.xray.mpe.mpg.de/mailing-lists/perl5-porters/2002-07/msg00905.html">http://www.xray.mpe.mpg.de/mailing-lists/perl5-porters/2002-07/msg00905.html</A></P>
<P>
<H2><A NAME="a perlio bug">A PerlIO bug</A></H2>
<P>Marcel Gruenauer found a new bug in the PerlIO system, related to stacking
the <CODE>via</CODE> and the <CODE>scalar</CODE> layers. Apparently, something like</P>
<PRE>
    open my $fh, &quot;&gt;:scalar:via(QuotedPrint)&quot;, \$x or die $!;</PRE>
<P>didn't work as intended. This buglet was promptly fixed by Nick Ing-Simmons.</P>
<P>Moreover Elizabeth Mattijsen found a workaround -- postponing the push of
the <CODE>via</CODE> layer makes this example work :</P>
<PRE>
    open( my $fh, &quot;&gt;&quot;, \$x );           # equivalent to &quot;&gt;:scalar&quot;
    binmode( $fh,&quot;:via(QuotedPrint)&quot; );</PRE>
<P><A HREF="http://www.xray.mpe.mpg.de/mailing-lists/perl5-porters/2002-07/msg00864.html">http://www.xray.mpe.mpg.de/mailing-lists/perl5-porters/2002-07/msg00864.html</A></P>
<P>
<H2><A NAME="perlio and macperl line endings">PerlIO and MacPerl line endings</A></H2>
<P>Chris Nandor, maintainer of MacPerl, asked about the better way to add
support for programs with MacOS-style end of lines : a straight
modification of the tokenizer, or a <CODE>:mac</CODE> PerlIO layer ? Gurusamy
Sarathy and Nick Ing-Simmons said that modifying the tokenizer is probably
best done by using the source filter hook that is already in place. But
Chris decided to work on a PerlIO-based solution, that will be in MacPerl
5.8.0 (and hopefully in Perl 5.8.1).</P>
<P><A HREF="http://www.xray.mpe.mpg.de/mailing-lists/perl5-porters/2002-07/msg00871.html">http://www.xray.mpe.mpg.de/mailing-lists/perl5-porters/2002-07/msg00871.html</A></P>
<P>
<H2><A NAME="about the maintenance releases">About the maintenance releases</A></H2>
<P>Sarathy said that <EM>there will be a 5.6.2 at some point, but I don't care
to speculate on when. I foresee no urgency for a 5.6.2 if 5.8.0 turns out
to be the high quality release all of us expect it to be.</EM></P>
<P>Chip Salzenberg began to work on a new maintenance release of the 5.005
branch, aimed at keeping it buildable with modern systems and compilers.
Welcome back to Perl development, Chip !</P>
<P><A HREF="http://www.xray.mpe.mpg.de/mailing-lists/perl5-porters/2002-07/msg01065.html">http://www.xray.mpe.mpg.de/mailing-lists/perl5-porters/2002-07/msg01065.html</A></P>
<P>
<H2><A NAME="the pumpking is dead, long live the pumpking !">The pumpking is dead, long live the pumpking !</A></H2>
<P><EM>I can see the light at the end of the tunnel... or is it the oncoming
upset dragon?</EM> -- Jarkko Hietaniemi</P>
<P>Now that Perl 5.8.0 has been released, Jarkko will now be able to get some
well-deserved vacation. Kudos to him for his unbelievable amount of work,
his helpfulness, his competence, his professionalism, and his humor.
Jarkko, this was a pleasure to work with you.</P>
<P>The pumpking for the 5.9 development branch is Hugo van der Sanden,
who says :</P>
<P><EM>I'll be in San Diego for the next week, so don't expect anything
much during that time. Please start thinking off-list about what
should go into 5.9; the lists will be opened when I get back.</EM></P>
<P>
<H2><A NAME="do hashes waste memory ">Do hashes waste memory ?</A></H2>
<P>Chip Salzenberg, working on 5.005_04, discovered an apparent memory waste
on hash buckets allocation. This suboptimal memory allocation is still
present in perl 5.8.0, for perls built without <CODE>-Dusemymalloc</CODE> or without
the C preprocessor symbol <CODE>STRANGE_MALLOC</CODE> (that you should define
yourself, as it is never set by <CODE>Configure</CODE>.)</P>
<P>Chip suggested to build perl with <CODE>-DSTRANGE_MALLOC</CODE> when perl's malloc
isn't used. Nick Clark ran a benchmark and this option doesn't seem to
increase perl's speed ; but the memory usage should go down significantly
in programs that use large hashes or lots of hashes. What's missing is a
benchmark that outputs comprehensive memory stats.</P>
<P><A HREF="http://www.xray.mpe.mpg.de/mailing-lists/perl5-porters/2002-07/msg01214.html">http://www.xray.mpe.mpg.de/mailing-lists/perl5-porters/2002-07/msg01214.html</A></P>
<P>
<H2><A NAME="about the sort pragma">About the <CODE>sort</CODE> pragma</A></H2>
<P>Michael G Schwern pointed a small inaccuracy in the docs for the <CODE>sort</CODE>
pragma. John P Linderman (expert in sorting), while trying to improve
those docs, realized that the interface to this pragma was rather minimal
and threw up a couple of new options in its import and unimport methods.</P>
<P><A HREF="http://www.xray.mpe.mpg.de/mailing-lists/perl5-porters/2002-07/msg01176.html">http://www.xray.mpe.mpg.de/mailing-lists/perl5-porters/2002-07/msg01176.html</A></P>
<P>
<H2><A NAME="defined or">defined or</A></H2>
<P>Brent Dax submitted a patch that adds the <CODE>//</CODE>, <CODE>//=</CODE> and <CODE>err</CODE>
operators to Perl 5. As you know if you've read the Apocalypses, these
operators are borrowed from Perl 6. As Brent puts it in the doc part of
his patch : <CODE>//</CODE> [...] is <EM>exactly the same as <CODE>||</CODE>, except that it
tests the left hand side's definedness instead of its truth.</EM></P>
<P>As this patch adds new ops, various tweaks are necessary to the rest of
perl to make it work flawlessly ; Brent provided an assorted patch to
<CODE>B::Deparse</CODE>, and pointed out that the <CODE>Opcode</CODE> and <CODE>Safe</CODE> modules may
need some work.</P>
<P><A HREF="http://www.xray.mpe.mpg.de/mailing-lists/perl5-porters/2002-07/msg01254.html">http://www.xray.mpe.mpg.de/mailing-lists/perl5-porters/2002-07/msg01254.html</A></P>
<P>
<H2><A NAME="about this report">About this report</A></H2>
<P>This report is now availaible via a mailing list, which
subscription address is <EM><A HREF="mailto:perl5-summary-subscribe@perl.org">perl5-summary-subscribe@perl.org</A></EM>.</P>

</BODY>

</HTML>
