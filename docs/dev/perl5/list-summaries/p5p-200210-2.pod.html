<HTML>
<HEAD>
<TITLE>This Week on perl5-porters</TITLE>
<LINK REV="made" HREF="mailto:bhcompile@daffy.perf.redhat.com">
</HEAD>

<BODY>

<A NAME="__index__"></A>
<!-- INDEX BEGIN -->

<UL>

	<LI><A HREF="#this week on perl5porters (713 october 2002)">This Week on perl5-porters (7-13 October 2002)</A></LI>
	<UL>

		<LI><A HREF="#speeding up unicode handling">Speeding up Unicode handling</A></LI>
		<LI><A HREF="#module signatures">Module signatures</A></LI>
		<LI><A HREF="#taint propagation">Taint propagation</A></LI>
		<LI><A HREF="#versions too accurate">Versions too accurate</A></LI>
		<LI><A HREF="#too safe signals">Too safe signals</A></LI>
		<LI><A HREF="#in brief">In brief</A></LI>
		<LI><A HREF="#about this summary">About this summary</A></LI>
	</UL>

</UL>
<!-- INDEX END -->

<HR>
<P>
<H1><A NAME="this week on perl5porters (713 october 2002)">This Week on perl5-porters (7-13 October 2002)</A></H1>
<P>A new week, a new p5p summary. This week, the porters were busy with small
bugs, compilation problems, and a few interesting new ideas. Read on.</P>
<P>
<H2><A NAME="speeding up unicode handling">Speeding up Unicode handling</A></H2>
<P>Jarkko Hietaniemi introduced his new idea by saying <EM>I have a task for
someone.</EM> The purpose is to speed up string handling functions (length(),
substr(), index(), etc.) on Unicode strings. Various technical solutions
(involving different types of caching) were proposed in the discussion,
but nobody volunteered yet to begin experimentation and implementation.</P>
<PRE>
    <A HREF="http://archive.develooper.com/perl5-porters@perl.org/msg87763.html">http://archive.develooper.com/perl5-porters@perl.org/msg87763.html</A></PRE>
<P>
<H2><A NAME="module signatures">Module signatures</A></H2>
<P>Well, this is not strictly perl-core-related, but interesting nonetheless.
Autrijus Tang reported that Module::Signature begins to be usable and
deployed. This module allows to PGP-sign CPAN modules, via a special SIGNATURE
file. <EM><A HREF="http://search.cpan.org/">http://search.cpan.org/</A></EM> now lists the signature on the module
information pages, and the development version of CPANPLUS recognizes it
optionally.</P>
<PRE>
    <A HREF="http://search.cpan.org/author/AUTRIJUS/Module-Signature/">http://search.cpan.org/author/AUTRIJUS/Module-Signature/</A></PRE>
<P>
<H2><A NAME="taint propagation">Taint propagation</A></H2>
<P>Jerome Quelin wondered why</P>
<PRE>
    perl -Tle '$cmd=&quot;print q(foo)&quot;;$cmd.=&quot;.q(bar)&quot; if pop; eval $cmd' foo</PRE>
<P>fails with an <EM>insecure dependency</EM> error (bug #17867), while it doesn't
fail when the regular form of <CODE>if</CODE> is used. Benjamin Goldberg explains that
this construct is strictly equivalent to the expression</P>
<PRE>
    pop and ($cmd.=&quot;.q(bar)&quot;)</PRE>
<P>and an expression is tainted whenever one of its parts is tainted.
Michael Schwern still thinks that's is a weird behavior, from a control
modifier (tainting affects data, not control flow).</P>
<P>
<H2><A NAME="versions too accurate">Versions too accurate</A></H2>
<P>The newest version patches (by J. Peacock) made a new test failure appear
(on ext/Storable/t/code.t). Apparently, when a module is required from XS
code, using a bare floating point value as the required version, the usual
rounding of floats may transform the required version in a higher version
number -- hence the <CODE>require()</CODE> failure.</P>
<PRE>
    <A HREF="http://archive.develooper.com/perl5-porters@perl.org/msg87919.html">http://archive.develooper.com/perl5-porters@perl.org/msg87919.html</A></PRE>
<P>
<H2><A NAME="too safe signals">Too safe signals</A></H2>
<P>Slaven Rezic remarked that the new safe signals may cause problems, when
one wants to timeout an operation that involves a C library function.
Hence some code that used <CODE>alarm()</CODE> for this purpose may stop working with
perl 5.8.0. (See also bug #17341.) But this code was fragile anyway, being
at risk of the SIGALRM perl handler being called in a manner which could
segfault.</P>
<PRE>
    <A HREF="http://archive.develooper.com/perl5-porters@perl.org/msg87982.html">http://archive.develooper.com/perl5-porters@perl.org/msg87982.html</A>
    <A HREF="http://perldoc.com/perl5.8.0/pod/perldelta.html#Safe-Signals">http://perldoc.com/perl5.8.0/pod/perldelta.html#Safe-Signals</A></PRE>
<P>
<H2><A NAME="in brief">In brief</A></H2>
<P>Paul Johnson reported that the <CODE>for</CODE> statement modifier, used inside a
<CODE>map</CODE>, segfaults (bug #17771). Fixed.</P>
<P>Nicholas Clark improved the error reporting and the documentation on
<CODE>pack &quot;w&quot;</CODE> (compressed integers) (bug #17772).</P>
<P>Nicholas Clark provided a few patches to Storable (version 2.06 should
appear on CPAN in the near future.)</P>
<P>Simon Cozens provided a patch to perldoc, to remove the annoying message
<EM>Superuser must not run perldoc without security audit and taint checks</EM>.
Applied with a few tweaks by Hugo, who added : <EM>patches to make it run
securely under tainting would also be welcome.</EM></P>
<P>H.Merijn Brand reported that DB_File doesn't compile with db-4.1.24.
He investigated the problem with Paul Marquess, but apparently it's not
completely solved yet.</P>
<P>Dan Sugalski uploaded the helpful module <CODE>Devel::Size</CODE> to CPAN, to find
the memory usage of Perl variables.</P>
<P>Tommy Wareing reported that the precompiled regular expression <CODE>qr/##/x</CODE>
corrupts memory (bug #17776). Fixed.</P>
<P>Nicholas Clark reported that <CODE>tr///</CODE> stringifies its argument, even when
it's used to count occurrences of a character (bug #17823). Fixed.</P>
<P>Brian Ingerson reported that <CODE>$/</CODE> is not initialized at compile-time by
the -0 command-line switch. Fixed.</P>
<P>
<H2><A NAME="about this summary">About this summary</A></H2>
<P>This summary brought to you by Rafael Garcia-Suarez. It's also available
via a mailing list, which subscription address is
<EM><A HREF="mailto:perl5-summary-subscribe@perl.org">perl5-summary-subscribe@perl.org</A></EM>. Comments and corrections are, as
always, welcome.</P>

</BODY>

</HTML>
